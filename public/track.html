<!DOCTYPE html>
<html>
<head>
  <title>Track Ticket</title>
</head>
<body>
  <h1>Track Your Ticket</h1>
  <div id="ticket-info"></div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    fetch(`/get-ticket?id=${id}`)
      .then(res => res.json())
      .then(ticket => {
        if(ticket) {
          document.getElementById("ticket-info").innerHTML = `
            <p>Ticket ID: ${ticket.id}</p>
            <p>Status: ${ticket.status}</p>
            <img src="${ticket.qrCode}" alt="Ticket QR Code"/>
          `;
        } else {
          document.getElementById("ticket-info").innerText = "Ticket not found.";
        }
      });
  </script>
</body>
</html>
